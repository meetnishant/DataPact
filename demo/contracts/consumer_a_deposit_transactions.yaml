# ============================================================================
# CONSUMER A CONTRACT: Deposit Transactions (Deposits Operations Team)
# ============================================================================
# Scenario: Scenario 1 - Baseline Validation (PASS)
# Consumer: Deposits Operations Team (Consumer A)
# Strictness: STRICT - Exact match with producer contract for operational integrity
#
# Business Purpose:
#   - Deposits Operations team relies on this data for transaction reconciliation
#   - Requires strict validation because this feeds into financial reporting systems
#   - All fields must be present with no nulls (audit trail requirement)
#   - Transaction type and channel classification is critical for operations
#
# Demo Flow:
#   - Scenario 1: Validates successfully against baseline producer data (PASS)
#   - Not affected by 'suspended' status breaking change (different table)
#
# Key Rules:
#   - Identical to producer contract (strict consumer)
#   - All fields required: not_null=true, unique for txn_id
#   - Amount range 0 to 5M enforced
# ============================================================================

contract:
  name: consumer_a_deposit_transactions
  version: 2.0.0
dataset:
  name: deposit_transactions
fields:
  - name: txn_id
    type: integer
    required: true
    rules:
      not_null: true
      unique: true
  - name: account_id
    type: integer
    required: true
    rules:
      not_null: true
  - name: txn_type
    type: string
    required: true
    rules:
      enum: [credit, debit, fee]
  - name: txn_amount
    type: float
    required: true
    rules:
      min: 0
      max: 5000000.0
      not_null: true
  - name: txn_ts
    type: string
    required: true
    rules:
      regex: '^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$'
  - name: channel
    type: string
    required: true
    rules:
      enum: [branch, online, api]
